# Народный контроль API
Народный контроль предоставляет платформу для взаимодействия пользователей и органов власти, чтобы решать проблемы, которые влияют на жизнь общества. Пользователи могут активно участвовать, поддерживая проблемы, комментируя и предлагая свои идеи для решения проблемы.

## Функциональность проекта
* Создание проблемы: Пользователи могут создавать проблемы, описывая их и прикрепляя фотографии или другие дополнительные материалы.
* Отслеживание статуса: Каждая проблема имеет свой статус, который показывает текущее состояние проблемы, такое как "открыта", "выполняется", "завершена" и т.д.
* Обновление статуса и решение: Администраторы и модераторы могут обновлять статус проблемы, отмечая ее как "выполняется" или "завершена", а также вносить информацию о решении проблемы.

## Технологии
* Django: Python-фреймворк для разработки веб-приложений.
* Django REST framework: Мощный инструмент для создания API на основе Django.
* База данных: Обычно используется PostgreSQL для хранения данных проблем и пользователей.

## API Руты
Ниже приведен краткий список основных API рутов, которые можно использовать для взаимодействия с сервером:

### Аутентификация и пользователи
1. Регистрация пользователя
POST /api/auth/users/

2. Активация аккаунта через email
POST /api/auth/users/activation/

3. Отправка email для активации ещё раз
POST /api/auth/users/resend_activation/

4. Удаление аккаунта пользователя
DELETE /api/auth/users/me

5. Смена пароля
POST /api/auth/users/set_password/

6. Запрос email для сброса пароля
POST /api/auth/users/reset_password/

7. Сброс пароля
POST /api/auth/users/reset_password_confirm/

8. Получение Access и Refresh токенов
POST /api/auth/jwt/create/

9. Обновление токенов с помощью JWT
POST /api/auth/jwt/refresh/

10. Внесение Refresh токена в черный список для Logout на фронтэнде
POST /api/auth/logout/blacklist/

### Управление пользователями (только для superuser)
11. Получение списка всех аккаунтов
GET /api/accounts/all/

12. Внесение изменений в аккаунт
PUT /api/accounts/update/<uuid:pk>/

13. Удаление аккаунта
DELETE /api/accounts/delete/<uuid:pk>/

14. Получение профайла пользователя
GET /api/profile/<uuid:pk>/

15. Внесение изменений в профайл
PUT /api/profile/update/<uuid:pk>/

### Категории
16. Получение списка всех категорий и субкатегорий (дерево)
GET /api/categories/all/

17. Создание категории (только для superuser)
POST /api/categories/create/

18. Чтение, обновление, удаление категории (только для superuser)
GET /api/categories/<uuid:pk>/, PUT /api/categories/<uuid:pk>/, DELETE /api/categories/<uuid:pk>/

### Проблемы
20. Создание новой проблемы (любой зарегистрированный пользователь)
POST /api/problems/create/

21. Получение детальной информации о проблеме
GET /api/problems/<uuid:pk>/

22. Загрузка фотографии к проблеме
POST /api/problems/picture/upload/

23. Обновление и удаление фотографии у проблемы
DELETE /api/problems/picture/update/<uuid:pk>/, PATCH /api/problems/picture/update/<uuid:pk>/

24. Удаление проблемы
DELETE /api/problems/delete/<uuid:pk>/

25. Добавление комментария
POST /api/problems/comment/add/

26. Удаление комментария
DELETE /api/problems/comment/delete/<uuid:pk>/

27. Добавление подписи пользователем под проблемой
POST /api/problems/sign/

28. Закрытие проблемы пользователем, который её открыл
PATCH /api/problems/close/<uuid:pk>/

29. Обновление статуса проблемы представителем власти или управляющей компании
PATCH /api/problems/updatestatus/<uuid:pk>/

30. Внесение любых изменений в проблему (только для superuser)
PATCH /api/problems/superupdate/<uuid:pk>/, PUT /api/problems/superupdate/<uuid:pk>/

31. Изменение статуса или категории проблемы модератором
PATCH /api/problems/update/<uuid:pk>/

32. Получение списка всех проблем созданных пользователем
GET /api/problems/mylist/

33. Получение списка всех проблем подписанных пользователем
GET /api/problems/mysigned/

34. Получение списка всех проблем назначенных пользователю
GET /api/problems/myassigned/

35. Получение списка всех проблем, которые созданные и не находятся на модерации
GET /api/problems/tomoderate/

36. Получение списка всех опубликованных проблем
GET /api/problems/all/

37. Получение списка всех опубликованных проблем для карты
GET /api/problems/maplist/

38. Получение статистики
GET /api/problems/stats/

39. Получение краткой информации о проблеме для яндекс баллуна
GET /api/problems/ymapballoon/<uuid:pk>/

## Настройки
### Для настройки базы данных в файле settings.py вам нужно будет указать следующую информацию:

* NAME: Имя базы данных.
* USER: Имя пользователя базы данных.
* PASSWORD: Пароль пользователя базы данных.
* HOST: Хост базы данных (например, "localhost" или   IP-адрес сервера базы данных).
* PORT: Порт, на котором работает база данных.

### Для секретного ключа вам нужно просто указать значение вашего секретного ключа в строковом формате, например:

* SECRET_KEY = 'your_secret_key_value'

Секретный ключ должен быть длинной и случайно сгенерированной строкой.